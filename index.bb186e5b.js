var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("7bYU0"),i("aWfZo"),i("03EOq"),i("bWo2c"),i("la0xx"),i("fzYh0"),i("03v4M");var r=i("lpPzL"),a=i("cQLOM"),l=i("kcNsB"),o=i("03v4M"),s=i("2nhTy");const d=(0,r.getRefs)(),c=new(0,a.FilmsApiService);var u={};function f(e,t,n){var i,r,a,l,o;function s(){var d=Date.now()-l;d<t&&d>=0?i=setTimeout(s,t-d):(i=null,n||(o=e.apply(a,r),a=r=null))}null==t&&(t=100);var d=function(){a=this,r=arguments,l=Date.now();var d=n&&!i;return i||(i=setTimeout(s,t)),d&&(o=e.apply(a,r),a=r=null),o};return d.clear=function(){i&&(clearTimeout(i),i=null)},d.flush=function(){i&&(o=e.apply(a,r),a=r=null,clearTimeout(i),i=null)},d}f.debounce=f,u=f;function v(){d.searchQueryList.innerHTML=""}d.searchForm.addEventListener("submit",(async function(e){e.preventDefault();const t=e.target;if(c.query=e.target.search.value.trim(),""===c.query)return void d.spanNotification.classList.remove("hidden");if(!(await c.fetchFilmsOnSearch(c.query))?.results?.length)return void d.spanNotification.classList.remove("hidden");d.filmGallery.innerHTML="",(0,s.getPaginationFromSerchRequest)(c.query),document.querySelector(".spinner").classList.add("hidden"),t.reset()})),d.body.addEventListener("click",(function(e){"header__form-input"!==e.target.className&&(d.searchQueryList.innerHTML="")})),d.searchForm.addEventListener("input",u((async function(e){d.spanNotification.classList.add("hidden"),c.query=e.target.value.trim(),v();const t=await c.fetchFilmsOnSearch(c.query);if(!t?.results?.length)return void v();n=t,d.searchQueryList.insertAdjacentHTML("beforeend",(0,l.filmShortTpl)(n)),document.querySelectorAll(".header__form-list-item").forEach((e=>e.addEventListener("click",o.onMovieCardClick)));var n}),300)),i("97fqm"),i("dcA59"),i("au048");s=i("2nhTy");i("3AN3U");var h=i("fzYh0");const m=(0,(r=i("lpPzL")).getRefs)(),p=new(0,h.Firebase);m.likeBtn.addEventListener("click",(function(){p.removeRate("dislike"),p.rateMovie("like"),m.dislike.textContent>0&&(m.dislike.textContent-=1);m.likeBtn.disabled=!0,m.dislikeBtn.disabled=!1})),m.dislikeBtn.addEventListener("click",(function(){p.removeRate("like"),p.rateMovie("dislike"),m.like.textContent>0&&(m.like.textContent-=1);m.dislikeBtn.disabled=!0,m.likeBtn.disabled=!1})),(0,(s=i("2nhTy")).getPaginationFromMainRequest)();
//# sourceMappingURL=index.bb186e5b.js.map
