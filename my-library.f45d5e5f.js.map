{"mappings":"oeAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,yCAIA,MAAME,GAAO,EAAAC,EAAAC,WAEPC,EAAW,IAAI,EAAAJ,EAAAK,UAKrBC,eAAeC,IACbN,EAAKO,MAAMC,UAAUC,OAAO,oBAC5BT,EAAKU,QAAQF,UAAUG,IAAI,oBAC3BX,EAAKY,oBAAoBC,UAAY,GAErC,IAAIH,QAAgBP,EAASW,OAAO,WAEb,IAAnBJ,EAAQK,QAEW,IAAnBL,EAAQK,QACPf,EAAKgB,OAAOR,UAAUS,SAAS,0BAEhCjB,EAAKgB,OAAOR,UAAUU,OAAO,yBAG/BC,SAASC,cAAc,YAAYZ,UAAUG,IAAI,UAEjDX,EAAKqB,YAAYR,UAAY,GAC7Bb,EAAKqB,YAAYC,mBACf,YACA,kPAMFtB,EAAKqB,YAAYR,UAAY,IAC7B,EAAAU,EAAAC,0BAAyBd,GACzBS,SAASC,cAAc,YAAYZ,UAAUG,IAAI,U,CA/BrDX,EAAKU,QAAQe,iBAAiB,QAASnB,GACvCN,EAAKO,MAAMkB,iBAAiB,SAkC5BpB,iBACEL,EAAKU,QAAQF,UAAUC,OAAO,oBAC9BT,EAAKO,MAAMC,UAAUG,IAAI,oBACzBX,EAAKY,oBAAoBC,UAAY,GAErC,IAAIN,QAAcJ,EAASW,OAAO,SAEb,IAAjBP,EAAMQ,SAEa,IAAnBL,QAAQK,QACPf,EAAKgB,OAAOR,UAAUS,SAAS,2BAE3BjB,EAAKgB,OAAOR,UAAUU,OAAO,yBAGpCC,SAASC,cAAc,YAAYZ,UAAUG,IAAI,UAEjDX,EAAKqB,YAAYR,UAAY,GAC7Bb,EAAKqB,YAAYC,mBACf,YACA,sRAMFtB,EAAKqB,YAAYR,UAAY,IAC7B,EAAAU,EAAAC,0BAAyBjB,GACzBY,SAASC,cAAc,YAAYZ,UAAUG,IAAI,U,IAIrD,MAAMe,EAAqBC,aAE3B,SAAuBC,GACrB,IACE5B,EAAKU,QAAQF,UAAUG,IAAI,oBAC3BR,EAAS0B,aACTvB,IACAwB,cAAcJ,E,CACd,MAAOK,G,IAR2C,K","sources":["src/my-library.js","src/js/firebase-db-library.js"],"sourcesContent":["import './js/firebase-auth';\nimport './js/firebase-class';\nimport './js/firebase-db-index';\nimport './js/firebase-db-library';\nimport './js/pagination';\n// import './js/firebase-movie-status-library';\nimport './js/change-color-scheme.js';\nimport './js/modal-team';\nimport './js/backToTop';\nimport './js/sticky-header';\n","import { Firebase } from './firebase-class';\nimport { getRefs } from './get-refs';\nimport { renderLibrary } from './library-gallery';\nimport { getPaginationFromLibrary } from './pagination';\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nrefs.watched.addEventListener('click', showWatched);\nrefs.queue.addEventListener('click', showQueue);\n\nasync function showWatched() {\n  refs.queue.classList.remove('film-btn--active');\n  refs.watched.classList.add('film-btn--active');\n  refs.paginationContainer.innerHTML = '';\n\n  let watched = await firebase.getDoc('watched');\n\n  if (watched.length === 0) {\n    if (\n      watched.length === 0 &&\n      !refs.footer.classList.contains('footer--empty-library')\n    ) {\n      refs.footer.classList.toggle('footer--empty-library');\n    }\n    //SPINNER\n    document.querySelector('.spinner').classList.add('hidden');\n\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film-list-error\">\n      <p class=\"library__text\">No watched movies found in the library</p>\n      <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No watched movies found in the library\"/>\n    </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    getPaginationFromLibrary(watched);\n    document.querySelector('.spinner').classList.add('hidden');\n  }\n}\n\nasync function showQueue() {\n  refs.watched.classList.remove('film-btn--active');\n  refs.queue.classList.add('film-btn--active');\n  refs.paginationContainer.innerHTML = '';\n\n  let queue = await firebase.getDoc('queue');\n\n  if (queue.length === 0) {\n    if (\n      watched.length === 0 &&\n      !refs.footer.classList.contains('footer--empty-library')\n    ) {\n    } else refs.footer.classList.toggle('footer--empty-library');\n\n    //SPINNER\n    document.querySelector('.spinner').classList.add('hidden');\n\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film-list-error\">\n        <p class=\"library__text\">No movies saved for viewing were found in the library</p>\n        <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No movies saved for viewing were found in the library\"/>\n      </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    getPaginationFromLibrary(queue);\n    document.querySelector('.spinner').classList.add('hidden');\n  }\n}\n\nconst loadLibraryWatched = setInterval(getUserStatus, 250);\n\nfunction getUserStatus(params) {\n  try {\n    refs.watched.classList.add('film-btn--active');\n    firebase.userStatus();\n    showWatched();\n    clearInterval(loadLibraryWatched);\n  } catch (error) {\n    // console.log(error);\n  }\n}\n"],"names":["parcelRequire","$fzYh0","$22070eaa231eed7e$var$refs","$lpPzL","getRefs","$22070eaa231eed7e$var$firebase","Firebase","async","$22070eaa231eed7e$var$showWatched","queue","classList","remove","watched","add","paginationContainer","innerHTML","getDoc","length","footer","contains","toggle","document","querySelector","filmGallery","insertAdjacentHTML","$2nhTy","getPaginationFromLibrary","addEventListener","$22070eaa231eed7e$var$loadLibraryWatched","setInterval","params","userStatus","clearInterval","error"],"version":3,"file":"my-library.f45d5e5f.js.map"}