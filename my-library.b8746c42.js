var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},i={},l=n.parcelRequired7c6;null==l&&((l=function(n){if(n in e)return e[n].exports;if(n in i){var l=i[n];delete i[n];var t={id:n,exports:{}};return e[n]=t,l.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){i[n]=e},n.parcelRequired7c6=l),l("bWo2c"),l("fzYh0");var t=l("fzYh0"),a=l("lpPzL"),o=l("cQLOM");a=l("lpPzL");const r=new(0,o.FilmsApiService),c=(0,a.getRefs)();function s(n){return n.map(f).join("")}async function f(n){const e=await r.fetchMovie(n),i=function(n,e){const{original_name:i,original_title:l,genres:t,vote_average:a,release_date:o,id:r}=n,c=i??l??"",s=t?t.map((n=>n.name)):"";return` <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img id='${r}'\n            class="film__image"\n            ${e?`\n        src="${e}"\n        `:"src = ''"}\n                        alt="Movie: ${c}"\n            loading="lazy"\n          />\n        </a>\n      </div>\n      <div class="film__info">\n      <p class="film__info--text">Watch ${c} online</p>\n      </div>\n      <div class="film__content">\n        ${c?`\n        <h3 class="film__film__title">\n          ${c}</h3>\n        `:""} ${s?`\n        <p class="film__genres">${s.join(", ")}\n        </p>\n        `:""} \n        \n        ${o?`\n        <p class="film__date">| ${new Date(o).getFullYear()}</p>\n        `:""} \n        ${a?`\n        <p class="film__value">${a.toFixed(2)}</p>\n        `:""}\n   \n    </li>\n    `}(e,function({poster_path:n,backdrop_path:e}={}){return`https://image.tmdb.org/t/p/original${n??e??""}`}(e));c.filmGallery.insertAdjacentHTML("beforeend",i)}const d=(0,a.getRefs)(),p=new(0,t.Firebase);async function g(){let n=await p.getDoc("watched");0===n.length?(console.log("ERROR"),d.filmGallery.innerHTML="",d.filmGallery.insertAdjacentHTML("beforeend",'<li>\n      <p>В бібліотеці не знайдено переглянутих фільмів</p>\n      <img src="https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png" alt="Помилка пошуку" loading="lazy"/>\n    </li>')):(d.filmGallery.innerHTML="",s(n))}d.watched.addEventListener("click",g),d.queue.addEventListener("click",(async function(){d.watched.classList.remove("film-btn--active");let n=await p.getDoc("queue");0===n.length?(console.log("ERROR"),d.filmGallery.innerHTML="",d.filmGallery.insertAdjacentHTML("beforeend",'<li>\n        <p>В бібліотеці не знайдено збережених для перегляду фільмів</p>\n        <img src="https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png" alt="Помилка пошуку" loading="lazy"/>\n      </li>')):(d.filmGallery.innerHTML="",s(n))}));const m=setInterval((function(n){try{d.watched.classList.add("film-btn--active"),p.userStatus(),console.log("got id"),g(),clearInterval(m)}catch(n){console.log("error")}}),250);l("97fqm"),l("7bYU0");(0,(a=l("lpPzL")).getRefs)();
//# sourceMappingURL=my-library.b8746c42.js.map
