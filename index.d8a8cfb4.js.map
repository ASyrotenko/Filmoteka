{"mappings":"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","sources":["src/index.js","src/js/addvideo.js","src/js/movie-card.js","src/js/search-movie.js","src/js/films-gallery.js","src/js/get-genres.js","src/js/backToTop.js"],"sourcesContent":["import './js/modal-team';\nimport './js/addvideo';\nimport './js/firebase-auth';\nimport './js/firebase-db-index';\nimport './js/firebase-class';\nimport './js/movie-card';\nimport './js/search-movie';\nimport './js/change-color-scheme.js';\nimport './js/library-auth';\nimport './js/backToTop';\n// import './js/pagination';\n\nimport { FilmsApiService } from './js/films-service';\nimport { filmTpl } from './js/films-gallery';\nimport { getRefs } from './js/get-refs';\nimport { combineGenres } from './js/get-genres';\n// import { pagination } from './js/pagination';\nconst refs = getRefs();\n\nfunction renderFilmGallery(films, genres) {\n  refs.filmGallery.insertAdjacentHTML('beforeend', filmTpl(films, genres));\n  //remove spinner\n  document.querySelector('.spinner').style.display = 'none';\n}\n\nexport const filmsApiService = new FilmsApiService();\nasync function load() {\n  const genres = await combineGenres();\n  const filmsTrending = await filmsApiService.fetchFilmsTrending();\n  renderFilmGallery(filmsTrending, genres);\n}\nload();\n","import { getRefs } from './get-refs';\nconst refs = getRefs();\nimport { filmsApiService } from '../index';\n\nconst stopVideos = () => {\n  document.querySelectorAll('iframe').forEach(v => {\n    v.src = v.src;\n  });\n  document.querySelectorAll('video').forEach(v => {\n    v.pause();\n  });\n};\n\nrefs.trailerOverlay.addEventListener('click', showVideo);\nrefs.closeVideoBtn.addEventListener('click', closeVideo);\nrefs.watchBtn.addEventListener('click', showVideo);\n\nfunction videoTpl(trailer) {\n  const { key, site } = trailer;\n\n  return `<iframe class=\"iframe\" width=\"100%\" height=\"100%\" src=\"https://www.${site}.com/embed/${key}?origin=https://asyrotenko.github.io\" title=\"video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;\n    gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n}\n\nexport function renderVideoBox(videos) {\n  const trailer = videos.find(video => video.name === 'Official Trailer' ?? {});\n  if (!trailer) {\n    refs.watchBtn.classList.add('not-active');\n    refs.trailerOverlay.classList.add('not-active');\n    return;\n  }\n  refs.insertVideoCont.insertAdjacentHTML('beforeend', videoTpl(trailer));\n}\n\nexport async function showVideo() {\n  refs.insertVideoCont.classList.add('is-active');\n  refs.trailerBox.classList.add('is-active');\n  refs.watchBtn.setAttribute('disabled', ' ');\n  refs.closeVideoBtn.removeAttribute('disabled');\n  refs.insertVideoCont.scrollIntoView();\n}\n\nexport function closeVideo() {\n  stopVideos();\n  refs.insertVideoCont.classList.remove('is-active');\n  refs.trailerBox.classList.remove('is-active');\n  refs.closeVideoBtn.setAttribute('disabled', '');\n  refs.watchBtn.removeAttribute('disabled');\n}\n","import { filmsApiService } from '../index';\nimport { getRefs } from './get-refs';\nimport { closeVideo, renderVideoBox } from './addvideo';\n\nconst refs = getRefs();\n\nconst backdrop = document.querySelector('.backdrop');\nbackdrop.addEventListener('click', backdropClick);\n\nexport function renderMovieCard(movie, path) {\n  refs.insertImgCont.insertAdjacentHTML('beforeend', getPosterForCard(path));\n  refs.movieBox.insertAdjacentHTML('beforeend', movieCardTpl(movie));\n  document.querySelector('.spinner').style.display = 'none';\n}\nexport function movieCardTpl(movie) {\n  const {\n    title,\n    original_name,\n    original_title,\n    popularity,\n    genres,\n    vote_average,\n    vote_count,\n    overview,\n    id,\n  } = movie;\n\n  const movieTitle = original_name ?? original_title ?? '';\n  const movieGenres = genres ? genres.map(genre => genre.name) : '';\n\n  return `\n  <div class=\"movie__id\" id=\"${id}\" ><h2 class=\"movie-card__title\">\n    ${title ?? movieTitle}\n    </h2>\n  <div class=\"movie__info-container\">\n<table class=\"movie-info__table\">\n  <tr>\n    ${\n      vote_count\n        ? `\n            <td class=\"movie__info-item\">Vote / Votes</td>\n        `\n        : ''\n    }\n    ${\n      vote_count\n        ? `\n            <td class=\"movie__info-data\"><span class=\"td-box\">${vote_average.toFixed(\n              1\n            )}</span> / ${vote_count}</td>\n        `\n        : ''\n    }\n    \n  </tr>\n  <tr>\n    ${\n      popularity\n        ? `\n            <td class=\"movie__info-item\">Popularity</td>\n        `\n        : ''\n    }\n    ${\n      popularity\n        ? `\n            <td class=\"movie__info-data\">${popularity.toFixed(1)}</td>\n        `\n        : ''\n    }\n  </tr>\n  <tr>\n     ${\n       movieTitle\n         ? `\n                <td class=\"movie__info-item\">Original Title</td>\n        `\n         : ''\n     }\n    ${\n      movieTitle\n        ? `\n                <td class=\"movie__info-data movie__info-data--title\">${movieTitle}</td>\n        `\n        : ''\n    }\n  </tr>\n    <tr>\n    ${movieGenres ? `<td class=\"movie__info-item\">Genre</td>` : ''}\n    ${\n      movieGenres\n        ? `<td class=\"movie__info-data\">${movieGenres.join(', ')}</td>`\n        : ''\n    }\n  </tr>\n</table>\n</div>\n${\n  overview\n    ? `\n    <h3 class=\"movie__about\">About</h3> `\n    : ''\n}\n${\n  overview\n    ? `\n    <p class=\"movie__about-info\">${overview}</p> `\n    : ''\n}\n</div>`;\n}\n\nexport function getPosterForCard(path) {\n  return `\n         <img\n  class=\"movie__poster\"\n  ${\n    path\n      ? `\n    srcset=\"\n    https://image.tmdb.org/t/p/w300/${path}      300w,\n    https://image.tmdb.org/t/p/w500/${path}      500w,\n    https://image.tmdb.org/t/p/w780/${path}      780w,\n    https://image.tmdb.org/t/p/w1280/${path}    1280w,\n    https://image.tmdb.org/t/p/original/${path} 2000w\n  \"\n  src=\"https://image.tmdb.org/t/p/w300/${path}\"\n  sizes=\"(min-width:1280px) 375px, (min-width:768px) 264px, 100vw\"\n\n  \n  `\n      : `src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/No-image-available.jpg\"\n  `\n  }\n  alt=\"Movie title\"\n/>\n`;\n}\n\nrefs.filmGallery.addEventListener('click', onMovieCardClick);\n\nasync function onMovieCardClick(e) {\n  e.preventDefault();\n\n  if (!e.target.classList.contains('film__image')) {\n    return;\n  }\n\n  refs.insertImgCont.innerHTML = '';\n  refs.movieBox.innerHTML = '';\n  refs.watchBtn.classList.remove('not-active');\n\n  const movieCard = await filmsApiService.fetchMovie(e.target.id);\n  if (!movieCard) {\n    return;\n    // Вивести повідомлення про помилку!!!!\n  }\n\n  refs.modalBackdrop.classList.remove('is-hidden');\n  window.addEventListener('keydown', onEscPress);\n  document.querySelector('body').classList.add('modal-open');\n  let path = e.target.dataset.imgpath;\n  renderMovieCard(movieCard, path);\n  const movieCardIdRef = document.querySelector('.movie__id');\n  const movieId = movieCardIdRef.id;\n  const videos = await filmsApiService.fetchMovieVideo(movieId);\n  renderVideoBox(videos);\n}\n\nrefs.modalCloseBtn.addEventListener('click', onMovieModalClose);\n\nfunction onMovieModalClose(e) {\n  refs.trailerOverlay.classList.remove('not-active');\n\n  refs.modalBackdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeVideo();\n  document.querySelector('body').classList.remove('modal-open');\n  refs.insertVideoCont.innerHTML = ' ';\n\n  refs.addToWatched.textContent = 'add to watched';\n  refs.addToWatched.classList.remove('film-btn--active');\n  refs.addToQueue.textContent = 'add to queue';\n  refs.addToQueue.classList.remove('film-btn--active');\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    onMovieModalClose();\n  }\n}\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onMovieModalClose();\n  }\n}\n","import { getRefs } from './get-refs';\nimport { FilmsApiService } from './films-service';\nimport { filmTpl } from './films-gallery';\nimport { combineGenres } from './get-genres';\n\nconst refs = getRefs();\n\nconst filmsApiService = new FilmsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nasync function onSearch(e) {\n  e.preventDefault();\n  const form = e.target;\n  filmsApiService.query = e.target.elements.search.value.trim();\n\n  if (filmsApiService.query === '') {\n    onError();\n    return;\n  }\n  const genres = await combineGenres();\n  const filmOnSearch = await filmsApiService.fetchFilmsOnSearch(\n    filmsApiService.query\n  );\n  clearGalleryContainer();\n  renderFilmGallery(filmOnSearch, genres);\n  form.reset();\n}\n\nfunction onError() {\n  alert('Please type something');\n  console.log('ERROR');\n}\n\nfunction renderFilmGallery(films, genres) {\n  refs.filmGallery.insertAdjacentHTML('beforeend', filmTpl(films, genres));\n}\n\nfunction clearGalleryContainer() {\n  refs.filmGallery.innerHTML = '';\n}\n","export function filmTpl({ results }, genresDict) {\n  return results\n    .map(\n      ({\n        original_name,\n        original_title,\n        release_date,\n        first_air_date,\n        genre_ids,\n        vote_count,\n        vote_average,\n        poster_path: poster,\n        id,\n      }) => {\n        const filmTitle = original_name ?? original_title ?? '';\n        const filmDate = release_date ?? first_air_date ?? '';\n\n        return ` <li   class=\"film__item\">\n    \n        <a class=\"film__link\"\n        href=\"#\"\n        >\n          <img\n  id=\"${id}\"\n    data-imgpath=${poster}\n  class=\"film__image\"\n  ${\n    poster\n      ? `\n  srcset=\"\n    https://image.tmdb.org/t/p/w300/${poster}      300w,\n    https://image.tmdb.org/t/p/w500/${poster}      500w,\n    https://image.tmdb.org/t/p/w780/${poster}      780w,\n    https://image.tmdb.org/t/p/w1280/${poster}    1280w,\n    https://image.tmdb.org/t/p/original/${poster} 2000w\n  \"\n  loading=\"lazy\"\n  src=\"https://image.tmdb.org/t/p/w300/${poster}\"\n    sizes=\"(min-width:1200px) 33vw, (min-width:768px) 50vw, 100vw\"\n\n  `\n      : `src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/No-image-available.jpg\"\n  `\n  }\n  alt=\"Movie: ${filmTitle}\"\n/>\n        </a>\n        <div class=\"film__info\">\n          <div class=\"aver-rate\">\n            <p class=\"film__info--text\"> Average rate ${vote_average.toFixed(\n              1\n            )} </p>\n          </div>\n          <div class=\"votes-amount\">\n            <p class=\"film__info--text\"> Votes ${vote_count}</p>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"film__content\">\n        ${\n          filmTitle\n            ? `\n        <h3 class=\"film__film__title\">\n          ${filmTitle}</h3>\n        `\n            : ''\n        } ${\n          genre_ids\n            ? `\n        <p class=\"film__genres\">${genre_ids\n          .map(id => genresDict[id])\n          .join(', ')}\n        </p>\n        `\n            : ''\n        } \n\n        ${\n          filmDate\n            ? `\n        <p class=\"film__date\">| ${new Date(filmDate).getFullYear()}</p>\n        `\n            : ''\n        } \n   \n    </li>\n    `;\n      }\n    )\n    .join('');\n}\n","import axios from 'axios';\nimport { API_KEY, BASE_URL } from './films-service';\n\nasync function fetchMovieGenres() {\n  try {\n    const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(url);\n    return response.data.genres.reduce((acc, currentValue) => {\n      acc[currentValue.id] = currentValue.name;\n\n      return acc;\n    }, {});\n  } catch (error) {\n    alert('ERRORgenres');\n  }\n}\n\nasync function fetchTvGenres() {\n  try {\n    const url = `${BASE_URL}/genre/tv/list?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(url);\n    return response.data.genres.reduce((acc, currentValue) => {\n      acc[currentValue.id] = currentValue.name;\n\n      return acc;\n    }, {});\n  } catch (error) {\n    alert('ERRORTvgenres');\n  }\n}\n\nexport async function combineGenres() {\n  const movieGenres = await fetchMovieGenres();\n  const tvGenres = await fetchTvGenres();\n  const genres = { ...movieGenres, ...tvGenres };\n  return genres;\n}\n","import { getRefs } from './get-refs';\nconst refs = getRefs();\n\nconst btnUp = {\n  el: refs.btnUp,\n  show() {\n    this.el.classList.remove('btn-up_hide');\n  },\n  hide() {\n    this.el.classList.add('btn-up_hide');\n  },\n\n  addEventListener() {\n    window.addEventListener('scroll', () => {\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      scrollY > 900 ? this.show() : this.hide();\n    });\n    document.querySelector('.btn-up').onclick = () => {\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n\nbtnUp.addEventListener();\n"],"names":["$bpxeT","parcelRequire","$5274eb74605a1106$var$refs","getRefs","$5274eb74605a1106$export$4c07ddf2d98a14f0","videos","ref","trailer","find","video","name","watchBtn","classList","add","trailerOverlay","insertVideoCont","insertAdjacentHTML","key","site","concat","$5274eb74605a1106$var$videoTpl","$5274eb74605a1106$export$3949c78fa34dc1d0","$5274eb74605a1106$var$_showVideo","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","trailerBox","setAttribute","closeVideoBtn","removeAttribute","scrollIntoView","$5274eb74605a1106$export$add73491473b3471","document","querySelectorAll","forEach","v","src","pause","remove","addEventListener","$69a458246719d1c7$var$refs","$69a458246719d1c7$export$605b145a07818080","movie","path","insertImgCont","$69a458246719d1c7$export$a30ef51ab559b8","movieBox","title","original_name","original_title","popularity","genres","vote_average","vote_count","overview","id","movieTitle","movieGenres","map","genre","toFixed","join","$69a458246719d1c7$export$d3af4656dcd9770b","querySelector","style","display","$69a458246719d1c7$var$_onMovieCardClick","e","movieCard","movieCardIdRef","movieId","preventDefault","target","contains","innerHTML","$b8f9b7833fa37166$export$57f8c9967d0d81f3","fetchMovie","_ctx","sent","modalBackdrop","window","$69a458246719d1c7$var$onEscPress","dataset","imgpath","fetchMovieVideo","$69a458246719d1c7$var$onMovieModalClose","removeEventListener","addToWatched","textContent","addToQueue","code","currentTarget","filmGallery","modalCloseBtn","$57d87adc78ec6cca$export$188cb65847573555","param1","genresDict","results","param","ref1","release_date","first_air_date","genre_ids","poster","poster_path","id1","filmTitle","filmDate","Date","getFullYear","$fab5075d8cb83450$var$fetchMovieGenres","$fab5075d8cb83450$var$_fetchMovieGenres","url","response","$8Mjv6","BASE_URL","API_KEY","$dIxxU","default","get","data","reduce","acc","currentValue","alert","$fab5075d8cb83450$var$fetchTvGenres","$fab5075d8cb83450$var$_fetchTvGenres","$fab5075d8cb83450$export$1598e1643bb93e96","$fab5075d8cb83450$var$_combineGenres","tvGenres","$dDDEV","$49fc2524958c817c$var$refs","$3vKGz","$49fc2524958c817c$var$filmsApiService","FilmsApiService","$49fc2524958c817c$var$_onSearch","form","filmOnSearch","query","elements","search","value","trim","$49fc2524958c817c$var$onError","fetchFilmsOnSearch","$49fc2524958c817c$var$clearGalleryContainer","$49fc2524958c817c$var$renderFilmGallery","reset","console","log","films","searchForm","el","btnUp","show","hide","scrollY","documentElement","scrollTop","_this","onclick","scrollTo","top","left","behavior","$b8f9b7833fa37166$var$refs","$b8f9b7833fa37166$var$renderFilmGallery","$b8f9b7833fa37166$var$_load","fetchFilmsTrending","$b8f9b7833fa37166$var$load"],"version":3,"file":"index.d8a8cfb4.js.map"}