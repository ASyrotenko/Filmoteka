!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(n){if(n in t)return t[n].exports;if(n in r){var e=r[n];delete r[n];var a={id:n,exports:{}};return t[n]=a,e.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,e){r[n]=e},e.parcelRequired7c6=a),a("469FY"),a("iGaYn");var i=a("bpxeT"),l=a("2TvXO"),c=a("iGaYn"),o=a("3vKGz"),s=(i=a("bpxeT"),l=a("2TvXO"),a("8Mjv6")),f=(o=a("3vKGz"),new(0,s.FilmsApiService)),u=(0,o.getRefs)(),p="https://image.tmdb.org/t/p/original";function d(n){return n.map(m).join("")}function m(n){return v.apply(this,arguments)}function v(){return(v=n(i)(n(l).mark((function e(t){var r,a,i;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.fetchMovie(t);case 2:r=n.sent,a=_(r),i=g(r,a),u.filmGallery.insertAdjacentHTML("beforeend",i);case 6:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function _(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.poster_path,r=e.backdrop_path,a=null!==(n=null!=t?t:r)&&void 0!==n?n:"",i="".concat(p).concat(a);return i}function g(n,e){var t,r=n.original_name,a=n.original_title,i=n.genres,l=n.vote_average,c=n.release_date,o=n.id,s=null!==(t=null!=r?r:a)&&void 0!==t?t:"",f=i?i.map((function(n){return n.name})):"";return' <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img id=\''.concat(o,'\'\n            class="film__image"\n            ').concat(e?'\n        src="'.concat(e,'"\n        '):"src = ''",'\n                        alt="Movie: ').concat(s,'"\n            loading="lazy"\n          />\n        </a>\n      </div>\n      <div class="film__info">\n      <p class="film__info--text">Watch ').concat(s,' online</p>\n      </div>\n      <div class="film__content">\n        ').concat(s?'\n        <h3 class="film__film__title">\n          '.concat(s,"</h3>\n        "):""," ").concat(f?'\n        <p class="film__genres">'.concat(f.join(", "),"\n        </p>\n        "):""," \n        \n        ").concat(c?'\n        <p class="film__date">| '.concat(new Date(c).getFullYear(),"</p>\n        "):""," \n        ").concat(l?'\n        <p class="film__value">'.concat(l.toFixed(2),"</p>\n        "):"","\n   \n    </li>\n    ")}var h=(0,o.getRefs)(),y=new(0,c.Firebase);function w(){return b.apply(this,arguments)}function b(){return(b=n(i)(n(l).mark((function e(){var t;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.getDoc("watched");case 2:0===(t=n.sent).length?(console.log("ERROR"),h.filmGallery.innerHTML="",h.filmGallery.insertAdjacentHTML("beforeend",'<li class="film__list-error">\n      <p class="library__text">В бібліотеці не знайдено переглянутих фільмів</p>\n      <img src="./images/library-cat.png" alt="В бібліотеці не знайдено переглянутих фільмів"/>\n    </li>')):(h.filmGallery.innerHTML="",d(t));case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=n(i)(n(l).mark((function e(){var t;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h.watched.classList.remove("film-btn--active"),n.next=3,y.getDoc("queue");case 3:0===(t=n.sent).length?(console.log("ERROR"),h.filmGallery.innerHTML="",h.filmGallery.insertAdjacentHTML("beforeend",'<li class="film__list-error">\n        <p class="library__text">В бібліотеці не знайдено збережених для перегляду фільмів</p>\n        <img src="./images/library-cat.png" alt="В бібліотеці не знайдено збережених для перегляду фільмів"/>\n      </li>')):(h.filmGallery.innerHTML="",d(t));case 5:case"end":return n.stop()}}),e)})))).apply(this,arguments)}h.watched.addEventListener("click",w),h.queue.addEventListener("click",(function(){return x.apply(this,arguments)}));var T=setInterval((function(n){try{h.watched.classList.add("film-btn--active"),y.userStatus(),console.log("got id"),w(),clearInterval(T)}catch(n){console.log("error")}}),250);a("3diZ0"),a("aZhHc");(0,(o=a("3vKGz")).getRefs)()}();
//# sourceMappingURL=my-library.53a0c554.js.map
