!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=e.parcelRequired7c6;null==i&&((i=function(n){if(n in t)return t[n].exports;if(n in a){var e=a[n];delete a[n];var i={id:n,exports:{}};return t[n]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(n,e){a[n]=e},e.parcelRequired7c6=i),i("469FY"),i("iGaYn");var r=i("bpxeT"),l=i("2TvXO"),c=i("iGaYn"),o=i("3vKGz"),s=(r=i("bpxeT"),l=i("2TvXO"),i("8Mjv6")),f=(o=i("3vKGz"),new(0,s.FilmsApiService)),u=(0,o.getRefs)(),d="https://image.tmdb.org/t/p/original";function p(n){return n.map(v).join("")}function v(n){return m.apply(this,arguments)}function m(){return(m=n(r)(n(l).mark((function e(t){var a,i,r;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.fetchMovie(t);case 2:a=n.sent,i=g(a),r=_(a,i),u.filmGallery.insertAdjacentHTML("beforeend",r);case 6:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function g(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.poster_path,a=e.backdrop_path,i=null!==(n=null!=t?t:a)&&void 0!==n?n:"",r="".concat(d).concat(i);return r}function _(n,e){var t,a=n.original_name,i=n.original_title,r=n.genres,l=n.vote_average,c=n.release_date,o=n.id,s=null!==(t=null!=a?a:i)&&void 0!==t?t:"",f=r?r.map((function(n){return n.name})):"";return' <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img id=\''.concat(o,'\'\n            class="film__image"\n            ').concat(e?'\n        src="'.concat(e,'"\n        '):"src = ''",'\n                        alt="Movie: ').concat(s,'"\n            loading="lazy"\n          />\n        </a>\n      </div>\n      <div class="film__info">\n      <p class="film__info--text">Watch ').concat(s,' online</p>\n      </div>\n      <div class="film__content">\n        ').concat(s?'\n        <h3 class="film__film__title">\n          '.concat(s,"</h3>\n        "):""," ").concat(f?'\n        <p class="film__genres">'.concat(f.join(", "),"\n        </p>\n        "):""," \n        \n        ").concat(c?'\n        <p class="film__date">| '.concat(new Date(c).getFullYear(),"</p>\n        "):""," \n        ").concat(l?'\n        <p class="film__value">'.concat(l.toFixed(2),"</p>\n        "):"","\n   \n    </li>\n    ")}var h=(0,o.getRefs)(),y=new(0,c.Firebase);function w(){return b.apply(this,arguments)}function b(){return(b=n(r)(n(l).mark((function e(){var t;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.getDoc("watched");case 2:0===(t=n.sent).length?(console.log("ERROR"),h.filmGallery.innerHTML="",h.filmGallery.insertAdjacentHTML("beforeend",'<li>\n      <p>В бібліотеці не знайдено переглянутих фільмів</p>\n      <img src="https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png" alt="Помилка пошуку" loading="lazy"/>\n    </li>')):(h.filmGallery.innerHTML="",p(t));case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=n(r)(n(l).mark((function e(){var t;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h.watched.classList.remove("film-btn--active"),n.next=3,y.getDoc("queue");case 3:0===(t=n.sent).length?(console.log("ERROR"),h.filmGallery.innerHTML="",h.filmGallery.insertAdjacentHTML("beforeend",'<li>\n        <p>В бібліотеці не знайдено збережених для перегляду фільмів</p>\n        <img src="https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png" alt="Помилка пошуку" loading="lazy"/>\n      </li>')):(h.filmGallery.innerHTML="",p(t));case 5:case"end":return n.stop()}}),e)})))).apply(this,arguments)}h.watched.addEventListener("click",w),h.queue.addEventListener("click",(function(){return x.apply(this,arguments)}));var T=setInterval((function(n){try{h.watched.classList.add("film-btn--active"),y.userStatus(),console.log("got id"),w(),clearInterval(T)}catch(n){console.log("error")}}),250);i("3diZ0"),i("aZhHc");(0,(o=i("3vKGz")).getRefs)()}();
//# sourceMappingURL=my-library.16ae1ce4.js.map
