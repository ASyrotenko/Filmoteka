!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){i[e]=n},n.parcelRequired7c6=r),r("469FY"),r("iGaYn");var a=r("bpxeT"),l=r("2TvXO"),c=r("iGaYn"),o=r("3vKGz"),s=(a=r("bpxeT"),l=r("2TvXO"),r("8Mjv6")),f=(o=r("3vKGz"),new(0,s.FilmsApiService)),u=(0,o.getRefs)(),d="https://image.tmdb.org/t/p/original";function p(e){return e.map(v).join("")}function v(e){return m.apply(this,arguments)}function m(){return(m=e(a)(e(l).mark((function n(t){var i,r,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchMovie(t);case 2:i=e.sent,r=_(i),a=g(i,r),u.filmGallery.insertAdjacentHTML("beforeend",a);case 6:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function _(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.poster_path,i=n.backdrop_path,r=null!==(e=null!=t?t:i)&&void 0!==e?e:"",a="".concat(d).concat(r);return a}function g(e,n){var t,i=e.original_name,r=e.original_title,a=e.genres,l=e.vote_average,c=e.release_date,o=e.id,s=null!==(t=null!=i?i:r)&&void 0!==t?t:"",f=a?a.map((function(e){return e.name})):"";return' <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img id=\''.concat(o,'\'\n            class="film__image"\n            ').concat(n?'\n        src="'.concat(n,'"\n        '):"src = ''",'\n                        alt="Movie: ').concat(s,'"\n            loading="lazy"\n          />\n        </a>\n      </div>\n      <div class="film__info">\n      <p class="film__info--text">Watch ').concat(s,' online</p>\n      </div>\n      <div class="film__content">\n        ').concat(s?'\n        <h3 class="film__film__title">\n          '.concat(s,"</h3>\n        "):""," ").concat(f?'\n        <p class="film__genres">'.concat(f.join(", "),"\n        </p>\n        "):""," \n        \n        ").concat(c?'\n        <p class="film__date">| '.concat(new Date(c).getFullYear(),"</p>\n        "):""," \n        ").concat(l?'\n        <p class="film__value">'.concat(l.toFixed(2),"</p>\n        "):"","\n   \n    </li>\n    ")}var h=(0,o.getRefs)(),w=new(0,c.Firebase);function y(){return b.apply(this,arguments)}function b(){return(b=e(a)(e(l).mark((function n(){var t;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getDoc("watched");case 2:0===(t=e.sent).length?(console.log("ERROR"),h.filmGallery.innerHTML="",h.filmGallery.insertAdjacentHTML("beforeend",'<li class="film__list-error">\n      <p class="library__text">No watched movies found in the library</p>\n      <img src="../images/smile-icon.webp" alt="No watched movies found in the library"/>\n    </li>')):(h.filmGallery.innerHTML="",p(t));case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function x(){return(x=e(a)(e(l).mark((function n(){var t;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.watched.classList.remove("film-btn--active"),e.next=3,w.getDoc("queue");case 3:0===(t=e.sent).length?(console.log("ERROR"),h.filmGallery.innerHTML="",h.filmGallery.insertAdjacentHTML("beforeend",'<li class="film__list-error">\n        <p class="library__text">No movies saved for viewing were found in the library</p>\n        <img src="../images/smile-icon.webp" alt="No movies saved for viewing were found in the library"/>\n      </li>')):(h.filmGallery.innerHTML="",p(t));case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}h.watched.addEventListener("click",y),h.queue.addEventListener("click",(function(){return x.apply(this,arguments)}));var T=setInterval((function(e){try{h.watched.classList.add("film-btn--active"),w.userStatus(),console.log("got id"),y(),clearInterval(T)}catch(e){console.log("error")}}),250);r("3diZ0"),r("aZhHc");(0,(o=r("3vKGz")).getRefs)()}();
//# sourceMappingURL=my-library.5b06f1bd.js.map
