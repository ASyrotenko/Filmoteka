!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r);var i=r("bpxeT"),c=r("2TvXO");r("aZhHc");i=r("bpxeT"),c=r("2TvXO");var o=(0,(h=r("3vKGz")).getRefs)();function s(e){var t,n=e.find((function(e){return null!==(t="Official Trailer"===e.name)&&void 0!==t?t:{}}));if(!n)return o.watchBtn.classList.add("not-active"),void o.trailerOverlay.classList.add("not-active");o.insertVideoCont.insertAdjacentHTML("beforeend",function(e){var t=e.key,n=e.site;return'<iframe class="iframe" width="100%" height="100%" src="https://www.'.concat(n,".com/embed/").concat(t,'?origin=https://asyrotenko.github.io" title="video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media;\n    gyroscope; picture-in-picture" allowfullscreen></iframe>')}(n))}function d(){return l.apply(this,arguments)}function l(){return(l=e(i)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.insertVideoCont.classList.add("is-active"),o.trailerBox.classList.add("is-active"),o.watchBtn.setAttribute("disabled"," "),o.closeVideoBtn.removeAttribute("disabled"),o.insertVideoCont.scrollIntoView();case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function u(){document.querySelectorAll("iframe").forEach((function(e){e.src=e.src})),document.querySelectorAll("video").forEach((function(e){e.pause()})),o.insertVideoCont.classList.remove("is-active"),o.trailerBox.classList.remove("is-active"),o.closeVideoBtn.setAttribute("disabled",""),o.watchBtn.removeAttribute("disabled")}o.trailerOverlay.addEventListener("click",d),o.closeVideoBtn.addEventListener("click",u),o.watchBtn.addEventListener("click",d),r("469FY");i=r("bpxeT"),c=r("2TvXO");var v=r("iGaYn"),f=(0,(h=r("3vKGz")).getRefs)(),m=new(0,v.Firebase);function p(){return(p=e(i)(e(c).mark((function t(n){var a,r,i,o,s,d;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="remove from watched",e.next=3,m.getDoc("watched");case 3:return r=e.sent,i=Object.values(r),i.includes(n.target.id)&&(f.addToWatched.textContent=a,f.addToWatched.classList.add("film-btn--active")),o="remove from queue",e.next=10,m.getDoc("queue");case 10:s=e.sent,d=Object.values(s),d.includes(n.target.id)&&(f.addToQueue.textContent=o,f.addToQueue.classList.add("film-btn--active"));case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}f.addToWatched.addEventListener("click",(function(e){var t="add to watched",n="remove from watched";console.log(m.setDoc.userId),e.target.textContent.includes(t)?(e.target.textContent=n,m.setDoc("watched"),m.removeFilmById("queue"),f.addToQueue.textContent="add to queue",f.addToQueue.classList.remove("film-btn--active")):e.target.textContent.includes(n)&&(e.target.textContent=t,m.removeFilmById("watched"),f.addToWatched.classList.remove("film-btn--active"))})),f.addToQueue.addEventListener("click",(function(e){var t="add to queue",n="remove from queue";e.target.textContent.includes(t)?(e.target.textContent=n,m.setDoc("queue"),m.removeFilmById("watched"),f.addToWatched.textContent="add to watched",f.addToWatched.classList.remove("film-btn--active")):e.target.textContent.includes(n)&&(e.target.textContent=t,m.removeFilmById("queue"),f.addToQueue.classList.remove("film-btn--active"))})),f.filmGallery.addEventListener("click",(function(e){return p.apply(this,arguments)})),r("iGaYn");i=r("bpxeT"),c=r("2TvXO");var h=r("3vKGz"),_="https://image.tmdb.org/t/p/original",g=(0,h.getRefs)();function b(e){g.insertImgCont.insertAdjacentHTML("beforeend",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.original_title,a=t.poster_path,r=t.backdrop_path,i=null!==(e=null!=a?a:r)&&void 0!==e?e:"";return'\n             <img\n            class="movie__poster"\n            '.concat(i?'\n        src="'.concat(_).concat(i,'"\n        '):"src = ''",'\n                        alt="Movie: ').concat(null!=n?n:"",'"\n          />\n')}(e)),g.movieBox.insertAdjacentHTML("beforeend",function(e){var t,n=e.title,a=e.original_name,r=e.original_title,i=e.popularity,c=e.genres,o=e.vote_average,s=e.vote_count,d=e.overview,l=e.id,u=(e.video,null!==(t=null!=a?a:r)&&void 0!==t?t:""),v=c?c.map((function(e){return e.name})):"";return'\n  <div class="img-box"></div>\n  <div class="movie__id" id="'.concat(l,'" ><h2 class="movie-card__title">\n    ').concat(null!=n?n:u,'\n    </h2>\n  <div class="movie__info-container">\n<table class="movie-info__table">\n  <tr>\n    ').concat(s?'\n            <td class="movie__info-item">Vote / Votes</td>\n        ':"","\n    ").concat(s?'\n            <td class="movie__info-data"><span class="td-box">'.concat(o.toFixed(1),"</span> / ").concat(s,"</td>\n        "):"","\n    \n  </tr>\n  <tr>\n    ").concat(i?'\n            <td class="movie__info-item">Popularity</td>\n        ':"","\n    ").concat(i?'\n            <td class="movie__info-data">'.concat(i.toFixed(1),"</td>\n        "):"","\n  </tr>\n  <tr>\n     ").concat(u?'\n                <td class="movie__info-item">Original Title</td>\n        ':"","\n    ").concat(u?'\n                <td class="movie__info-data movie__info-data--title">'.concat(u,"</td>\n        "):"","\n  </tr>\n    <tr>\n    ").concat(v?'<td class="movie__info-item">Genre</td>':"","\n    ").concat(v?'<td class="movie__info-data">'.concat(v.join(", "),"</td>"):"","\n  </tr>\n</table>\n</div>\n").concat(d?'\n    <h3 class="movie__about">About</h3> ':"","\n").concat(d?'\n    <p class="movie__about-info">'.concat(d,"</p> "):"","\n</div>")}(e)),document.querySelector(".spinner").style.display="none"}function y(){return(y=e(i)(e(c).mark((function t(n){var a,r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.target.classList.contains("film__image")){e.next=3;break}return e.abrupt("return");case 3:return g.insertImgCont.innerHTML="",g.movieBox.innerHTML="",g.watchBtn.classList.remove("not-active"),e.next=8,H.fetchMovie(n.target.id);case 8:if(a=e.sent){e.next=11;break}return e.abrupt("return");case 11:return g.modalBackdrop.classList.remove("is-hidden"),window.addEventListener("keydown",w),document.querySelector("body").classList.add("modal-open"),b(a),r=document.querySelector(".movie__id"),i=r.id,e.next=19,H.fetchMovieVideo(i);case 19:s(e.sent);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(e){g.trailerOverlay.classList.remove("not-active"),g.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("keydown",w),u(),document.querySelector("body").classList.remove("modal-open"),g.insertVideoCont.innerHTML=" ",g.addToWatched.textContent="add to watched",g.addToWatched.classList.remove("film-btn--active"),g.addToQueue.textContent="add to queue",g.addToQueue.classList.remove("film-btn--active")}function w(e){"Escape"===e.code&&x()}document.querySelector(".backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&x()})),g.filmGallery.addEventListener("click",(function(e){return y.apply(this,arguments)})),g.modalCloseBtn.addEventListener("click",x);i=r("bpxeT"),c=r("2TvXO"),h=r("3vKGz");var L=r("8Mjv6");function T(e,t){return e.results.map((function(e){var n,a,r=e.original_name,i=e.original_title,c=e.release_date,o=e.first_air_date,s=e.genre_ids,d=(e.vote_average,e.poster_path),l=e.id,u=null!==(n=null!=r?r:i)&&void 0!==n?n:"",v=null!==(a=null!=c?c:o)&&void 0!==a?a:"";return' <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img id=\''.concat(l,'\'\n            class="film__image"\n            ').concat(d?'\n        src="'.concat("https://image.tmdb.org/t/p/original").concat(d,'"\n        '):"src = 'https://upload.wikimedia.org/wikipedia/commons/f/f9/No-image-available.jpg'",'\n                        alt="Movie: ').concat(u,'"\n          />\n        </a>\n      </div>\n      <div class="film__info">\n      <p class="film__info--text">Watch "').concat(u,'" online</p>\n      </div>\n      <div class="film__content">\n        ').concat(u?'\n        <h3 class="film__film__title">\n          '.concat(u,"</h3>\n        "):""," ").concat(s?'\n        <p class="film__genres">'.concat(s.map((function(e){return t[e]})).join(", "),"\n        </p>\n        "):""," \n\n        ").concat(v?'\n        <p class="film__date">| '.concat(new Date(v).getFullYear(),"</p>\n        "):""," \n   \n    </li>\n    ")})).join("")}i=r("bpxeT");var k=r("dDDEV"),E=(c=r("2TvXO"),r("dIxxU"));L=r("8Mjv6");function C(){return q.apply(this,arguments)}function q(){return(q=e(i)(e(c).mark((function t(){var n,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(L.BASE_URL,"/genre/movie/list?api_key=").concat(L.API_KEY,"&language=en-US"),e.next=4,E.default.get(n);case 4:return a=e.sent,e.abrupt("return",a.data.genres.reduce((function(e,t){return e[t.id]=t.name,e}),{}));case 8:e.prev=8,e.t0=e.catch(0),alert("ERRORgenres");case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function B(){return O.apply(this,arguments)}function O(){return(O=e(i)(e(c).mark((function t(){var n,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(L.BASE_URL,"/genre/tv/list?api_key=").concat(L.API_KEY,"&language=en-US"),e.next=4,E.default.get(n);case 4:return a=e.sent,e.abrupt("return",a.data.genres.reduce((function(e,t){return e[t.id]=t.name,e}),{}));case 8:e.prev=8,e.t0=e.catch(0),alert("ERRORTvgenres");case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function A(){return M.apply(this,arguments)}function M(){return(M=e(i)(e(c).mark((function t(){var n,a,r;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:return n=t.sent,t.next=5,B();case 5:return a=t.sent,r=e(k)({},n,a),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R=(0,h.getRefs)(),F=new(0,L.FilmsApiService);function S(){return(S=e(i)(e(c).mark((function t(n){var a,r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=n.target,F.query=n.target.elements.search.value.trim(),""!==F.query){e.next=6;break}return j(),e.abrupt("return");case 6:return e.next=8,A();case 8:return r=e.sent,e.next=11,F.fetchFilmsOnSearch(F.query);case 11:i=e.sent,V(),G(i,r),a.reset();case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function j(){alert("Please type something"),console.log("ERROR")}function G(e,t){R.filmGallery.insertAdjacentHTML("beforeend",T(e,t))}function V(){R.filmGallery.innerHTML=""}R.searchForm.addEventListener("submit",(function(e){return S.apply(this,arguments)})),r("3diZ0");L=r("8Mjv6");var D=(0,(h=r("3vKGz")).getRefs)();function I(e,t){D.filmGallery.insertAdjacentHTML("beforeend",T(e,t)),document.querySelector(".spinner").style.display="none"}var H=new(0,L.FilmsApiService);function W(){return(W=e(i)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return n=e.sent,e.next=5,H.fetchFilmsTrending();case 5:I(e.sent,n);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){W.apply(this,arguments)}()}();
//# sourceMappingURL=index.44226fc4.js.map
