var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("7bYU0");const a=(0,(m=i("lpPzL")).getRefs)();function o(e){const t=e.find((e=>"Official Trailer"===e.name??{}));if(!t)return a.watchBtn.classList.add("not-active"),void a.trailerOverlay.classList.add("not-active");a.insertVideoCont.insertAdjacentHTML("beforeend",function(e){const{key:t,site:n}=e;return`<iframe class="iframe" width="100%" height="100%" src="https://www.${n}.com/embed/${t}?origin=https://asyrotenko.github.io" title="video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media;\n    gyroscope; picture-in-picture" allowfullscreen></iframe>`}(t))}async function s(){a.insertVideoCont.classList.add("is-active"),a.trailerBox.classList.add("is-active"),a.watchBtn.setAttribute("disabled"," "),a.closeVideoBtn.removeAttribute("disabled"),a.insertVideoCont.scrollIntoView()}function r(){document.querySelectorAll("iframe").forEach((e=>{e.src=e.src})),document.querySelectorAll("video").forEach((e=>{e.pause()})),a.insertVideoCont.classList.remove("is-active"),a.trailerBox.classList.remove("is-active"),a.closeVideoBtn.setAttribute("disabled",""),a.watchBtn.removeAttribute("disabled")}a.trailerOverlay.addEventListener("click",s),a.closeVideoBtn.addEventListener("click",r),a.watchBtn.addEventListener("click",s),i("bWo2c"),i("la0xx"),i("fzYh0");const d=(0,(m=i("lpPzL")).getRefs)();function l(e){d.trailerOverlay.classList.remove("not-active"),d.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("keydown",c),r(),document.querySelector("body").classList.remove("modal-open"),d.insertVideoCont.innerHTML=" ",d.addToWatched.textContent="add to watched",d.addToWatched.classList.remove("film-btn--active"),d.addToQueue.textContent="add to queue",d.addToQueue.classList.remove("film-btn--active")}function c(e){"Escape"===e.code&&l()}document.querySelector(".backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&l()})),d.filmGallery.addEventListener("click",(async function(e){if(e.preventDefault(),!e.target.classList.contains("film__image"))return;d.insertImgCont.innerHTML="",d.movieBox.innerHTML="",d.watchBtn.classList.remove("not-active");const t=await h.fetchMovie(e.target.id);if(!t)return;d.modalBackdrop.classList.remove("is-hidden"),window.addEventListener("keydown",c),document.querySelector("body").classList.add("modal-open");let n=e.target.dataset.imgpath;!function(e,t){d.insertImgCont.insertAdjacentHTML("beforeend",function(e){return`\n         <img\n  class="movie__poster"\n  ${e?`\n    srcset="\n    https://image.tmdb.org/t/p/w300/${e}      300w,\n    https://image.tmdb.org/t/p/w500/${e}      500w,\n    https://image.tmdb.org/t/p/w780/${e}      780w,\n    https://image.tmdb.org/t/p/w1280/${e}    1280w,\n    https://image.tmdb.org/t/p/original/${e} 2000w\n  "\n  src="https://image.tmdb.org/t/p/w300/${e}"\n  sizes="(min-width:1280px) 375px, (min-width:768px) 264px, 100vw"\n\n  \n  `:'src="https://upload.wikimedia.org/wikipedia/commons/f/f9/No-image-available.jpg"\n  '}\n  alt="Movie title"\n/>\n`}(t)),d.movieBox.insertAdjacentHTML("beforeend",function(e){const{title:t,original_name:n,original_title:i,popularity:a,genres:o,vote_average:s,vote_count:r,overview:d,id:l}=e,c=n??i??"",m=o?o.map((e=>e.name)):"";return`\n  <div class="movie__id" id="${l}" ><h2 class="movie-card__title">\n    ${t??c}\n    </h2>\n  <div class="movie__info-container">\n<table class="movie-info__table">\n  <tr>\n    ${r?'\n            <td class="movie__info-item">Vote / Votes</td>\n        ':""}\n    ${r?`\n            <td class="movie__info-data"><span class="td-box">${s.toFixed(1)}</span> / ${r}</td>\n        `:""}\n    \n  </tr>\n  <tr>\n    ${a?'\n            <td class="movie__info-item">Popularity</td>\n        ':""}\n    ${a?`\n            <td class="movie__info-data">${a.toFixed(1)}</td>\n        `:""}\n  </tr>\n  <tr>\n     ${c?'\n                <td class="movie__info-item">Original Title</td>\n        ':""}\n    ${c?`\n                <td class="movie__info-data movie__info-data--title">${c}</td>\n        `:""}\n  </tr>\n    <tr>\n    ${m?'<td class="movie__info-item">Genre</td>':""}\n    ${m?`<td class="movie__info-data">${m.join(", ")}</td>`:""}\n  </tr>\n</table>\n</div>\n${d?'\n    <h3 class="movie__about">About</h3> ':""}\n${d?`\n    <p class="movie__about-info">${d}</p> `:""}\n</div>`}(e)),document.querySelector(".spinner").style.display="none"}(t,n);const i=document.querySelector(".movie__id").id;o(await h.fetchMovieVideo(i))})),d.modalCloseBtn.addEventListener("click",l);var m=i("lpPzL"),p=i("cQLOM");function f({results:e},t){return e.map((({original_name:e,original_title:n,release_date:i,first_air_date:a,genre_ids:o,vote_count:s,vote_average:r,poster_path:d,id:l})=>{const c=e??n??"",m=i??a??"";return` <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img\n  id="${l}"\n    data-imgpath=${d}\n  class="film__image"\n  ${d?`\n  srcset="\n    https://image.tmdb.org/t/p/w300/${d}      300w,\n    https://image.tmdb.org/t/p/w500/${d}      500w,\n    https://image.tmdb.org/t/p/w780/${d}      780w,\n    https://image.tmdb.org/t/p/w1280/${d}    1280w,\n    https://image.tmdb.org/t/p/original/${d} 2000w\n  "\n  loading="lazy"\n  src="https://image.tmdb.org/t/p/w300/${d}"\n    sizes="(min-width:1200px) 33vw, (min-width:768px) 50vw, 100vw"\n\n  `:'src="https://upload.wikimedia.org/wikipedia/commons/f/f9/No-image-available.jpg"\n  '}\n  alt="Movie: ${c}"\n/>\n        </a>\n        <div class="film__info">\n          <div class="aver-rate">\n            <p class="film__info--text"> Average rate ${r.toFixed(1)} </p>\n          </div>\n          <div class="votes-amount">\n            <p class="film__info--text"> Votes ${s}</p>\n          </div>\n        </div>\n      </div>\n      \n      <div class="film__content">\n        ${c?`\n        <h3 class="film__film__title">\n          ${c}</h3>\n        `:""} ${o?`\n        <p class="film__genres">${o.map((e=>t[e])).join(", ")}\n        </p>\n        `:""} \n\n        ${m?`\n        <p class="film__date">| ${new Date(m).getFullYear()}</p>\n        `:""} \n   \n    </li>\n    `})).join("")}var u=i("2shzp");p=i("cQLOM");async function v(){return{...await async function(){try{const e=`${p.BASE_URL}/genre/movie/list?api_key=${p.API_KEY}&language=en-US`;return(await u.default.get(e)).data.genres.reduce(((e,t)=>(e[t.id]=t.name,e)),{})}catch(e){alert("ERRORgenres")}}(),...await async function(){try{const e=`${p.BASE_URL}/genre/tv/list?api_key=${p.API_KEY}&language=en-US`;return(await u.default.get(e)).data.genres.reduce(((e,t)=>(e[t.id]=t.name,e)),{})}catch(e){alert("ERRORTvgenres")}}()}}const g=(0,m.getRefs)(),_=new(0,p.FilmsApiService);g.searchForm.addEventListener("submit",(async function(e){e.preventDefault();const t=e.target;if(_.query=e.target.elements.search.value.trim(),""===_.query)return alert("Please type something"),void console.log("ERROR");const n=await v(),i=await _.fetchFilmsOnSearch(_.query);g.filmGallery.innerHTML="",function(e,t){g.filmGallery.insertAdjacentHTML("beforeend",f(e,t))}(i,n),t.reset()})),i("97fqm"),i("dcA59");({el:(0,(m=i("lpPzL")).getRefs)().btnUp,show(){this.el.classList.remove("btn-up_hide")},hide(){this.el.classList.add("btn-up_hide")},addEventListener(){window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>900?this.show():this.hide()})),document.querySelector(".btn-up").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();p=i("cQLOM");const w=(0,(m=i("lpPzL")).getRefs)();const h=new(0,p.FilmsApiService);!async function(){const e=await v();!function(e,t){w.filmGallery.insertAdjacentHTML("beforeend",f(e,t)),document.querySelector(".spinner").style.display="none"}(await h.fetchFilmsTrending(),e)}();
//# sourceMappingURL=index.2f65d12f.js.map
