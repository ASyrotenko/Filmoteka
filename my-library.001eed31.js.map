{"mappings":"iiBAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,mEAIME,GAAO,EAAAC,EAAAC,WAEPC,EAAW,IAAI,EAAAC,EAAAC,U,SAKNC,I,OAAAC,EAAWC,MAAAC,KAAAC,U,UAAXH,I,OAAAA,EAAfI,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IAIMC,E,yEAHJf,EAAKgB,MAAMC,UAAUC,OAAO,oBAC5BlB,EAAKe,QAAQE,UAAUE,IAAI,oB,SAEPhB,EAASiB,OAAO,W,OACb,KADnBL,EAAOM,EAAAC,MACCC,QAEVC,SAASC,cAAc,YAAYR,UAAUE,IAAI,UACjDnB,EAAK0B,YAAYC,UAAY,GAC7B3B,EAAK0B,YAAYE,mBACf,YACC,kPAMH5B,EAAK0B,YAAYC,UAAY,IAC7B,EAAAE,EAAAC,0BAAyBf,GACzBS,SAASC,cAAc,YAAYR,UAAUE,IAAI,W,4CAnB3BX,MAAAC,KAAAC,U,UAuBXqB,I,OAAAA,EAAfpB,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IAOME,E,yEANJhB,EAAKe,QAAQE,UAAUC,OAAO,oBAC9BlB,EAAKgB,MAAMC,UAAUE,IAAI,oBAGzBK,SAASC,cAAc,YAAYR,UAAUE,IAAI,U,SAE/BhB,EAASiB,OAAO,S,OAEb,KAFjBJ,EAAKK,EAAAC,MAECC,QACRvB,EAAK0B,YAAYC,UAAY,GAC7BH,SAASC,cAAc,WAAWR,UAAUE,IAAI,yBAChDnB,EAAK0B,YAAYE,mBACf,YACC,sRAMH5B,EAAK0B,YAAYC,UAAY,IAC7B,EAAAE,EAAAC,0BAAyBd,GACzBQ,SAASC,cAAc,YAAYR,UAAUE,IAAI,W,4CAtB7BX,MAAAC,KAAAC,U,CA1BxBV,EAAKe,QAAQiB,iBAAiB,QAAS1B,GACvCN,EAAKgB,MAAMgB,iBAAiB,S,kBAyBbD,EAASvB,MAAAC,KAAAC,U,IA0BxB,IAAMuB,EAAqBC,aAE3B,SAAuBC,GACrB,IACEnC,EAAKe,QAAQE,UAAUE,IAAI,oBAC3BhB,EAASiC,aACT9B,IACA+B,cAAcJ,E,CACd,MAAOK,G,IAR2C,K","sources":["src/my-library.js","src/js/firebase-db-library.js"],"sourcesContent":["import './js/firebase-auth';\nimport './js/firebase-class';\nimport './js/firebase-db-index';\nimport './js/firebase-db-library';\nimport './js/pagination';\n// import './js/firebase-movie-status-library';\nimport './js/change-color-scheme.js';\nimport './js/modal-team';\nimport './js/backToTop';\n","import { Firebase } from './firebase-class';\nimport { getRefs } from './get-refs';\nimport { renderLibrary } from './library-gallery';\nimport { getPaginationFromLibrary } from './pagination';\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nrefs.watched.addEventListener('click', showWatched);\nrefs.queue.addEventListener('click', showQueue);\n\nasync function showWatched() {\n  refs.queue.classList.remove('film-btn--active');\n  refs.watched.classList.add('film-btn--active');\n\n  let watched = await firebase.getDoc('watched');\n  if (watched.length === 0) {\n    //SPINNER\n    document.querySelector('.spinner').classList.add('hidden');\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film-list-error\">\n      <p class=\"library__text\">No watched movies found in the library</p>\n      <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No watched movies found in the library\"/>\n    </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    getPaginationFromLibrary(watched);\n    document.querySelector('.spinner').classList.add('hidden');\n  }\n}\n\nasync function showQueue() {\n  refs.watched.classList.remove('film-btn--active');\n  refs.queue.classList.add('film-btn--active');\n\n  // SPINNER\n  document.querySelector('.spinner').classList.add('hidden');\n\n  let queue = await firebase.getDoc('queue');\n\n  if (queue.length === 0) {\n    refs.filmGallery.innerHTML = '';\n    document.querySelector('.footer').classList.add('footer--empty-library');\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film-list-error\">\n        <p class=\"library__text\">No movies saved for viewing were found in the library</p>\n        <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No movies saved for viewing were found in the library\"/>\n      </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    getPaginationFromLibrary(queue);\n    document.querySelector('.spinner').classList.add('hidden');\n  }\n}\n\nconst loadLibraryWatched = setInterval(getUserStatus, 250);\n\nfunction getUserStatus(params) {\n  try {\n    refs.watched.classList.add('film-btn--active');\n    firebase.userStatus();\n    showWatched();\n    clearInterval(loadLibraryWatched);\n  } catch (error) {\n    // console.log('error');\n  }\n}\n"],"names":["parcelRequire","$bpxeT","$b7e35614679cd5d5$var$refs","$3vKGz","getRefs","$b7e35614679cd5d5$var$firebase","$iGaYn","Firebase","$b7e35614679cd5d5$var$showWatched","$b7e35614679cd5d5$var$_showWatched","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","watched","queue","classList","remove","add","getDoc","_ctx","sent","length","document","querySelector","filmGallery","innerHTML","insertAdjacentHTML","$jcFG7","getPaginationFromLibrary","$b7e35614679cd5d5$var$_showQueue","addEventListener","$b7e35614679cd5d5$var$loadLibraryWatched","setInterval","params","userStatus","clearInterval","error"],"version":3,"file":"my-library.001eed31.js.map"}