{"mappings":"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","sources":["src/my-library.js","src/js/firebase-db-library.js","src/js/library-gallery.js","src/js/firebase-movie-status-library.js"],"sourcesContent":["import './js/firebase-auth';\nimport './js/firebase-class';\nimport './js/firebase-db-library';\nimport './js/firebase-movie-status-library';\nimport './js/change-color-scheme.js';\nimport './js/modal-team';\n\nimport { getRefs } from './js/get-refs';\nconst refs = getRefs();\n","import { Firebase } from './firebase-class';\nimport { getRefs } from './get-refs';\nimport { renderLibrary } from './library-gallery';\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nrefs.watched.addEventListener('click', showWatched);\nrefs.queue.addEventListener('click', showQueue);\n\nasync function showWatched() {\n  refs.queue.classList.remove('film-btn--active');\n  refs.watched.classList.add('film-btn--active');\n\n  let watched = await firebase.getDoc('watched');\n  if (watched.length === 0) {\n    console.log('ERROR');\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film__list-error\">\n      <p class=\"library__text\">No watched movies found in the library</p>\n      <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No watched movies found in the library\"/>\n    </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    renderLibrary(watched);\n  }\n}\n\nasync function showQueue() {\n  refs.watched.classList.remove('film-btn--active');\n  refs.queue.classList.add('film-btn--active');\n\n  let queue = await firebase.getDoc('queue');\n\n  if (queue.length === 0) {\n    console.log('ERROR');\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film__list-error\">\n        <p class=\"library__text\">No movies saved for viewing were found in the library</p>\n        <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No movies saved for viewing were found in the library\"/>\n      </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    renderLibrary(queue);\n  }\n}\nconst qwe = setInterval(getUserStatus, 250);\n\nfunction getUserStatus(params) {\n  try {\n    refs.watched.classList.add('film-btn--active');\n    firebase.userStatus();\n    console.log('got id');\n    showWatched();\n    clearInterval(qwe);\n  } catch (error) {\n    console.log('error');\n  }\n}\n","import { FilmsApiService } from './films-service';\nexport const filmsApiService = new FilmsApiService();\nimport { getRefs } from './get-refs';\n// import { renderVideoBox } from './addvideo';\n\nconst refs = getRefs();\nconst posterLargeUrl = 'https://image.tmdb.org/t/p/original';\n\nexport function renderLibrary(filmsIds) {\n  return filmsIds.map(renderMovieCardLib).join('');\n}\n\nrefs.filmGallery.addEventListener('click', onMovieCardClick);\n\nasync function renderMovieCardLib(movieId) {\n  const movie = await filmsApiService.fetchMovie(movieId);\n  const poster = getPosterForLibCard(movie);\n  const markup = movieTplLib(movie, poster);\n  refs.filmGallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction getPosterForLibCard({ poster_path, backdrop_path } = {}) {\n  const moviePoster = poster_path ?? backdrop_path ?? '';\n  const imgUrl = `${posterLargeUrl}${moviePoster}`;\n  return imgUrl;\n}\n\nfunction movieTplLib(movie, poster) {\n  const {\n    original_name,\n    original_title,\n    genres,\n    vote_average,\n    release_date,\n    id,\n  } = movie;\n\n  const movieTitle = original_name ?? original_title ?? '';\n  const movieGenres = genres ? genres.map(genre => genre.name) : '';\n\n  return ` <li   class=\"film__item\">\n    \n        <a class=\"film__link\"\n        href=\"#\"\n        >\n          <img id='${id}'\n            class=\"film__image\"\n            ${\n              poster\n                ? `\n        src=\"${poster}\"\n        `\n                : `src = ''`\n            }\n                        alt=\"Movie: ${movieTitle}\"\n            loading=\"lazy\"\n          />\n        </a>\n      </div>\n      <div class=\"film__info\">\n      <p class=\"film__info--text\">Watch ${movieTitle} online</p>\n      </div>\n      <div class=\"film__content\">\n        ${\n          movieTitle\n            ? `\n        <h3 class=\"film__film__title\">\n          ${movieTitle}</h3>\n        `\n            : ''\n        } ${\n    movieGenres\n      ? `\n        <p class=\"film__genres\">${movieGenres.join(', ')}\n        </p>\n        `\n      : ''\n  } \n        \n        ${\n          release_date\n            ? `\n        <p class=\"film__date\">| ${new Date(release_date).getFullYear()}</p>\n        `\n            : ''\n        } \n        ${\n          vote_average\n            ? `\n        <p class=\"film__value\">${vote_average.toFixed(2)}</p>\n        `\n            : ''\n        }\n   \n    </li>\n    `;\n}\nconst backdrop = document.querySelector('.backdrop');\nbackdrop.addEventListener('click', backdropClick);\n\nfunction renderMovieCard(movie) {\n  refs.insertImgCont.insertAdjacentHTML('beforeend', getPosterForCard(movie));\n  refs.movieBox.insertAdjacentHTML('beforeend', movieCardTpl(movie));\n  //   document.querySelector('.spinner').style.display = 'none';\n}\nexport function movieCardTpl(movie) {\n  const {\n    title,\n    original_name,\n    original_title,\n    popularity,\n    genres,\n    vote_average,\n    vote_count,\n    overview,\n    id,\n    video,\n  } = movie;\n\n  const movieTitle = original_name ?? original_title ?? '';\n  const movieGenres = genres ? genres.map(genre => genre.name) : '';\n\n  return `\n  <div class=\"img-box\"></div>\n  <div class=\"movie__id\" id=\"${id}\" ><h2 class=\"movie-card__title\">\n    ${title ?? movieTitle}\n    </h2>\n  <div class=\"movie__info-container\">\n<table class=\"movie-info__table\">\n  <tr>\n    ${\n      vote_count\n        ? `\n            <td class=\"movie__info-item\">Vote / Votes</td>\n        `\n        : ''\n    }\n    ${\n      vote_count\n        ? `\n            <td class=\"movie__info-data\"><span class=\"td-box\">${vote_average.toFixed(\n              1\n            )}</span> / ${vote_count}</td>\n        `\n        : ''\n    }\n    \n  </tr>\n  <tr>\n    ${\n      popularity\n        ? `\n            <td class=\"movie__info-item\">Popularity</td>\n        `\n        : ''\n    }\n    ${\n      popularity\n        ? `\n            <td class=\"movie__info-data\">${popularity.toFixed(1)}</td>\n        `\n        : ''\n    }\n  </tr>\n  <tr>\n     ${\n       movieTitle\n         ? `\n                <td class=\"movie__info-item\">Original Title</td>\n        `\n         : ''\n     }\n    ${\n      movieTitle\n        ? `\n                <td class=\"movie__info-data movie__info-data--title\">${movieTitle}</td>\n        `\n        : ''\n    }\n  </tr>\n    <tr>\n    ${movieGenres ? `<td class=\"movie__info-item\">Genre</td>` : ''}\n    ${\n      movieGenres\n        ? `<td class=\"movie__info-data\">${movieGenres.join(', ')}</td>`\n        : ''\n    }\n  </tr>\n</table>\n</div>\n${\n  overview\n    ? `\n    <h3 class=\"movie__about\">About</h3> `\n    : ''\n}\n${\n  overview\n    ? `\n    <p class=\"movie__about-info\">${overview}</p> `\n    : ''\n}\n</div>`;\n}\n\nexport function getPosterForCard({\n  original_title,\n  poster_path,\n  backdrop_path,\n} = {}) {\n  const moviePoster = poster_path ?? backdrop_path ?? '';\n  return `\n             <img\n            class=\"movie__poster\"\n            ${\n              moviePoster\n                ? `\n        src=\"${posterLargeUrl}${moviePoster}\"\n        `\n                : `src = ''`\n            }\n                        alt=\"Movie: ${original_title ?? ''}\"\n          />\n`;\n}\n\nrefs.filmGallery.addEventListener('click', onMovieCardClick);\n\nexport async function onMovieCardClick(e) {\n  e.preventDefault();\n\n  if (!e.target.classList.contains('film__image')) {\n    return;\n  }\n\n  refs.insertImgCont.innerHTML = '';\n  refs.movieBox.innerHTML = '';\n  refs.watchBtn.classList.remove('not-active');\n\n  const movieCard = await filmsApiService.fetchMovie(e.target.id);\n  if (!movieCard) {\n    return;\n    // Вивести повідомлення про помилку!!!!\n  }\n\n  refs.modalBackdrop.classList.remove('is-hidden');\n  window.addEventListener('keydown', onEscPress);\n  document.querySelector('body').classList.add('modal-open');\n  renderMovieCard(movieCard);\n  const movieCardIdRef = document.querySelector('.movie__id');\n  const movieId = movieCardIdRef.id;\n  const videos = await filmsApiService.fetchMovieVideo(movieId);\n  renderVideoBox(videos);\n}\n\nrefs.modalCloseBtn.addEventListener('click', onMovieModalClose);\n\nfunction onMovieModalClose(e) {\n  refs.trailerOverlay.classList.remove('not-active');\n\n  refs.modalBackdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeVideo();\n  document.querySelector('body').classList.remove('modal-open');\n  refs.insertVideoCont.innerHTML = ' ';\n\n  refs.addToWatched.textContent = 'add to watched';\n  refs.addToWatched.classList.remove('film-btn--active');\n  refs.addToQueue.textContent = 'add to queue';\n  refs.addToQueue.classList.remove('film-btn--active');\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    onMovieModalClose();\n  }\n}\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onMovieModalClose();\n  }\n}\n\nconst stopVideos = () => {\n  document.querySelectorAll('iframe').forEach(v => {\n    v.src = v.src;\n  });\n  document.querySelectorAll('video').forEach(v => {\n    v.pause();\n  });\n};\n\nrefs.trailerOverlay.addEventListener('click', showVideo);\nrefs.closeVideoBtn.addEventListener('click', closeVideo);\nrefs.watchBtn.addEventListener('click', showVideo);\n\nfunction videoTpl(trailer) {\n  const { key, site } = trailer;\n\n  return `<iframe class=\"iframe\" width=\"100%\" height=\"100%\" src=\"https://www.${site}.com/embed/${key}?origin=https://asyrotenko.github.io\" title=\"video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;\n    gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n}\n\nexport function renderVideoBox(videos) {\n  const trailer = videos.find(video => video.name === 'Official Trailer' ?? {});\n  if (!trailer) {\n    refs.watchBtn.classList.add('not-active');\n    refs.trailerOverlay.classList.add('not-active');\n    return;\n  }\n  refs.insertVideoCont.insertAdjacentHTML('beforeend', videoTpl(trailer));\n}\n\nexport async function showVideo() {\n  refs.insertVideoCont.classList.add('is-active');\n  refs.trailerBox.classList.add('is-active');\n  refs.watchBtn.setAttribute('disabled', ' ');\n  refs.closeVideoBtn.removeAttribute('disabled');\n  refs.insertVideoCont.scrollIntoView();\n}\n\nexport function closeVideo() {\n  stopVideos();\n  refs.insertVideoCont.classList.remove('is-active');\n  refs.trailerBox.classList.remove('is-active');\n  refs.closeVideoBtn.setAttribute('disabled', '');\n  refs.watchBtn.removeAttribute('disabled');\n}\n","import { Firebase, auth } from './firebase-class';\nimport { getRefs } from './get-refs';\n\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nrefs.addToWatched.addEventListener('click', pullToWatched);\nrefs.addToQueue.addEventListener('click', pullToQueue);\nrefs.filmGallery.addEventListener('click', getMovieStatus);\n\nasync function getMovieStatus(e) {\n  const textContentRemoveWatched = 'remove from watched';\n  const watchedMovies = await firebase.getDoc('watched');\n  const watchedMoviesId = Object.values(watchedMovies);\n  const currentWatchedMovieStatus = watchedMoviesId.includes(e.target.id);\n\n  if (currentWatchedMovieStatus) {\n    refs.addToWatched.textContent = textContentRemoveWatched;\n    refs.addToWatched.classList.add('film-btn--active');\n  }\n\n  const textContentRemoveQueue = 'remove from queue';\n  const queueMovies = await firebase.getDoc('queue');\n  const queueMoviesId = Object.values(queueMovies);\n  const currentQueueMovieStatus = queueMoviesId.includes(e.target.id);\n\n  if (currentQueueMovieStatus) {\n    refs.addToQueue.textContent = textContentRemoveQueue;\n    refs.addToQueue.classList.add('film-btn--active');\n  }\n}\n\nfunction pullToWatched(e) {\n  const textContentAdd = 'add to watched';\n  const textContentRemove = 'remove from watched';\n  console.log(firebase.setDoc.userId);\n  if (e.target.textContent.includes(textContentAdd)) {\n    e.target.textContent = textContentRemove;\n    firebase.setDoc('watched');\n    firebase.removeFilmById('queue');\n    refs.addToQueue.textContent = 'add to queue';\n    refs.addToQueue.classList.remove('film-btn--active');\n  } else if (e.target.textContent.includes(textContentRemove)) {\n    e.target.textContent = textContentAdd;\n    firebase.removeFilmById('watched');\n    refs.addToWatched.classList.remove('film-btn--active');\n  }\n}\n\nfunction pullToQueue(e) {\n  const textContentAdd = 'add to queue';\n  const textContentRemove = 'remove from queue';\n  if (e.target.textContent.includes(textContentAdd)) {\n    e.target.textContent = textContentRemove;\n    firebase.setDoc('queue');\n    firebase.removeFilmById('watched');\n    refs.addToWatched.textContent = 'add to watched';\n    refs.addToWatched.classList.remove('film-btn--active');\n  } else if (e.target.textContent.includes(textContentRemove)) {\n    e.target.textContent = textContentAdd;\n    firebase.removeFilmById('queue');\n    refs.addToQueue.classList.remove('film-btn--active');\n  }\n}\n"],"names":["parcelRequire","$fzYh0","$cQLOM","$fc5a387510d6563b$export$57f8c9967d0d81f3","FilmsApiService","$fc5a387510d6563b$var$refs","$lpPzL","getRefs","$fc5a387510d6563b$export$e7d1a4959038c5e5","filmsIds","map","$fc5a387510d6563b$var$renderMovieCardLib","join","async","movieId","movie","fetchMovie","markup","poster","original_name","original_title","genres","vote_average","release_date","id","movieTitle","movieGenres","genre","name","Date","getFullYear","toFixed","$fc5a387510d6563b$var$movieTplLib","poster_path","backdrop_path","$fc5a387510d6563b$var$getPosterForLibCard","filmGallery","insertAdjacentHTML","addEventListener","$fc5a387510d6563b$export$2d08c7f0d0e4b2d5","$fc5a387510d6563b$var$renderMovieCard","insertImgCont","moviePoster","$fc5a387510d6563b$export$a30ef51ab559b8","movieBox","title","popularity","vote_count","overview","video","$fc5a387510d6563b$export$d3af4656dcd9770b","e","preventDefault","target","classList","contains","innerHTML","watchBtn","remove","movieCard","modalBackdrop","window","$fc5a387510d6563b$var$onEscPress","document","querySelector","add","videos","trailer","find","trailerOverlay","insertVideoCont","key","site","$fc5a387510d6563b$var$videoTpl","$fc5a387510d6563b$export$4c07ddf2d98a14f0","fetchMovieVideo","$fc5a387510d6563b$var$onMovieModalClose","removeEventListener","$fc5a387510d6563b$export$add73491473b3471","addToWatched","textContent","addToQueue","code","currentTarget","modalCloseBtn","$fc5a387510d6563b$export$3949c78fa34dc1d0","trailerBox","setAttribute","closeVideoBtn","removeAttribute","scrollIntoView","querySelectorAll","forEach","v","src","pause","$22070eaa231eed7e$var$refs","$22070eaa231eed7e$var$firebase","Firebase","$22070eaa231eed7e$var$showWatched","queue","watched","getDoc","length","console","log","$22070eaa231eed7e$var$qwe","setInterval","params","userStatus","clearInterval","error","$5cc7d73f31e00120$var$refs","$5cc7d73f31e00120$var$firebase","textContentAdd","textContentRemove","setDoc","userId","includes","removeFilmById","watchedMovies","watchedMoviesId","Object","values","queueMovies","queueMoviesId"],"version":3,"file":"my-library.153bc5ab.js.map"}