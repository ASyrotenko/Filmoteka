var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in l){var i=l[e];delete l[e];var t={id:e,exports:{}};return n[e]=t,i.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){l[e]=n},e.parcelRequired7c6=i),i("bWo2c"),i("fzYh0");var t=i("fzYh0"),a=i("lpPzL"),r=i("cQLOM");a=i("lpPzL");const s=new(0,r.FilmsApiService),c=(0,a.getRefs)();function o(e){return e.map(f).join("")}async function f(e){const n=await s.fetchMovie(e),l=function(e,n){const{original_name:l,original_title:i,genres:t,vote_average:a,release_date:r,id:s}=e,c=l??i??"",o=t?t.map((e=>e.name)):"";return` <li   class="film__item">\n    \n        <a class="film__link"\n        href="#"\n        >\n          <img id='${s}'\n            class="film__image"\n            ${n?`\n        src="${n}"\n        `:"src = ''"}\n                        alt="Movie: ${c}"\n            loading="lazy"\n          />\n        </a>\n      </div>\n      <div class="film__info">\n      <p class="film__info--text">Watch ${c} online</p>\n      </div>\n      <div class="film__content">\n        ${c?`\n        <h3 class="film__film__title">\n          ${c}</h3>\n        `:""} ${o?`\n        <p class="film__genres">${o.join(", ")}\n        </p>\n        `:""} \n        \n        ${r?`\n        <p class="film__date">| ${new Date(r).getFullYear()}</p>\n        `:""} \n        ${a?`\n        <p class="film__value">${a.toFixed(2)}</p>\n        `:""}\n   \n    </li>\n    `}(n,function({poster_path:e,backdrop_path:n}={}){return`https://image.tmdb.org/t/p/original${e??n??""}`}(n));c.filmGallery.insertAdjacentHTML("beforeend",l)}const d=(0,a.getRefs)(),m=new(0,t.Firebase);async function _(){let e=await m.getDoc("watched");0===e.length?(console.log("ERROR"),d.filmGallery.innerHTML="",d.filmGallery.insertAdjacentHTML("beforeend",'<li class="film__list-error">\n      <p class="library__text">В бібліотеці не знайдено переглянутих фільмів</p>\n      <img src="./images/library-cat.png" alt="В бібліотеці не знайдено переглянутих фільмів"/>\n    </li>')):(d.filmGallery.innerHTML="",o(e))}d.watched.addEventListener("click",_),d.queue.addEventListener("click",(async function(){d.watched.classList.remove("film-btn--active");let e=await m.getDoc("queue");0===e.length?(console.log("ERROR"),d.filmGallery.innerHTML="",d.filmGallery.insertAdjacentHTML("beforeend",'<li class="film__list-error">\n        <p class="library__text">В бібліотеці не знайдено збережених для перегляду фільмів</p>\n        <img src="./images/library-cat.png" alt="В бібліотеці не знайдено збережених для перегляду фільмів"/>\n      </li>')):(d.filmGallery.innerHTML="",o(e))}));const p=setInterval((function(e){try{d.watched.classList.add("film-btn--active"),m.userStatus(),console.log("got id"),_(),clearInterval(p)}catch(e){console.log("error")}}),250);i("97fqm"),i("7bYU0");(0,(a=i("lpPzL")).getRefs)();
//# sourceMappingURL=my-library.47d2f2d5.js.map
