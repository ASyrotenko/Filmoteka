{"mappings":"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","sources":["src/index.js","src/js/search-movie.js","node_modules/debounce/index.js","node_modules/lodash.throttle/index.js","src/js/sticky-header.js"],"sourcesContent":["import './js/modal-team';\nimport './js/glide';\nimport './js/addvideo';\nimport './js/firebase-auth';\nimport './js/firebase-db-index';\nimport './js/firebase-class';\nimport './js/movie-card';\nimport './js/search-movie';\nimport './js/change-color-scheme';\nimport './js/library-auth';\nimport './js/backToTop';\nimport './js/pagination';\nimport './js/sticky-header';\n","import { getRefs } from './get-refs';\nimport { FilmsApiService } from './films-service';\nimport { filmTpl } from './films-gallery';\nimport { filmShortTpl } from './films-gallery';\nimport { combineGenres } from './get-genres';\nimport { onMovieCardClick } from './movie-card';\nimport { getPaginationFromSerchRequest } from './pagination';\nimport Notiflix from 'notiflix';\n\nconst refs = getRefs();\nconst filmsApiService = new FilmsApiService();\n\nconst debounce = require('debounce');\n\nconst DEBOUNCE_DELAY = 300;\n\nrefs.searchForm.addEventListener('submit', onSearchSubmit);\n\nrefs.body.addEventListener('click', inputClose);\n\n//Input Search\nrefs.searchForm.addEventListener(\n  'input',\n  debounce(onSearchInput, DEBOUNCE_DELAY)\n);\n\nasync function onSearchInput(e) {\n  refs.spanNotification.classList.add('hidden');\n  filmsApiService.query = e.target.value.trim();\n  clearSearchList();\n  const filmOnSearch = await filmsApiService.fetchFilmsOnSearch(\n    filmsApiService.query\n  );\n  if (!filmOnSearch?.results?.length) {\n    clearSearchList();\n    // Notiflix.Notify.failure('Sorry, film is not found');\n    return;\n  }\n\n  renderFilmSearchList(filmOnSearch);\n}\n\n//Submit search\nasync function onSearchSubmit(e) {\n  e.preventDefault();\n  const form = e.target;\n\n  filmsApiService.query = e.target.search.value.trim();\n\n  if (filmsApiService.query === '') {\n    // Notiflix.Notify.failure('Please type something');\n    refs.spanNotification.classList.remove('hidden');\n    return;\n  }\n\n  const filmOnSearch = await filmsApiService.fetchFilmsOnSearch(\n    filmsApiService.query\n  );\n\n  if (!filmOnSearch?.results?.length) {\n    // Notiflix.Notify.failure('Sorry, film is not found');\n    refs.spanNotification.classList.remove('hidden');\n\n    return;\n  }\n\n  clearGalleryContainer();\n\n  getPaginationFromSerchRequest(filmsApiService.query);\n  document.querySelector('.spinner').classList.add('hidden');\n  form.reset();\n}\n\n//render markup\nfunction renderFilmSearchList(films) {\n  refs.searchQueryList.insertAdjacentHTML('beforeend', filmShortTpl(films));\n  document\n    .querySelectorAll('.header__form-list-item')\n    .forEach(node => node.addEventListener('click', onMovieCardClick));\n}\n\n//clear markup\nfunction clearGalleryContainer() {\n  refs.filmGallery.innerHTML = '';\n}\n\nfunction clearSearchList() {\n  refs.searchQueryList.innerHTML = '';\n}\n\nfunction inputClose(e) {\n  if (e.target.className !== 'header__form-input')\n    refs.searchQueryList.innerHTML = '';\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import { debounce } from 'debounce';\nimport throttle from 'lodash.throttle';\nconst headerEl = document.querySelector('.header');\nconst filmSectionEl = document.querySelector('.container__slider');\n\nlet lastScrollTop = 0;\n\nwindow.addEventListener('scroll', throttle(stickyHeaderOnScroll, 250), false);\n\nfunction stickyHeaderOnScroll() {\n  let scrollPos = window.scrollY || document.documentElement.scrollTop;\n  if (scrollPos > lastScrollTop) {\n    // downscroll code\n    headerEl.classList.remove('appearing__header-js');\n    headerEl.classList.add('disappearing__header-js');\n  } else {\n    // upscroll code\n    headerEl.classList.remove('disappearing__header-js');\n    headerEl.classList.add('sticky__header');\n    headerEl.classList.add('appearing__header-js');\n    filmSectionEl.classList.add('container__slider-js');\n  }\n\n  lastScrollTop = scrollPos <= 0 ? 0 : scrollPos; // For Mobile or negative scrolling\n}\n"],"names":["parcelRequire","$bpxeT","$49fc2524958c817c$var$refs","$3vKGz","getRefs","$49fc2524958c817c$var$filmsApiService","$8Mjv6","FilmsApiService","$004cd6322d5b1502$var$debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","debounce","$004cd6322d5b1502$exports","$49fc2524958c817c$var$_onSearchInput","$parcel$interopDefault","$2TvXO","mark","_callee","e","ref","filmOnSearch","spanNotification","classList","add","query","target","value","trim","$49fc2524958c817c$var$clearSearchList","fetchFilmsOnSearch","_ctx","sent","results","length","$49fc2524958c817c$var$renderFilmSearchList","$49fc2524958c817c$var$_onSearchSubmit","form","preventDefault","search","remove","$49fc2524958c817c$var$clearGalleryContainer","$jcFG7","getPaginationFromSerchRequest","document","querySelector","reset","films","searchQueryList","insertAdjacentHTML","$7xBda","filmShortTpl","querySelectorAll","forEach","node","addEventListener","$94krt","onMovieCardClick","filmGallery","innerHTML","searchForm","body","className","$l5bVx","$9e9b14f48ab8e2c1$var$FUNC_ERROR_TEXT","$9e9b14f48ab8e2c1$var$reTrim","$9e9b14f48ab8e2c1$var$reIsBadHex","$9e9b14f48ab8e2c1$var$reIsBinary","$9e9b14f48ab8e2c1$var$reIsOctal","$9e9b14f48ab8e2c1$var$freeParseInt","parseInt","$9e9b14f48ab8e2c1$var$freeGlobal","$parcel$global","Object","$9e9b14f48ab8e2c1$var$freeSelf","self","$9e9b14f48ab8e2c1$var$root","Function","$9e9b14f48ab8e2c1$var$objectToString","prototype","toString","$9e9b14f48ab8e2c1$var$nativeMax","Math","max","$9e9b14f48ab8e2c1$var$nativeMin","min","$9e9b14f48ab8e2c1$var$now","$9e9b14f48ab8e2c1$var$debounce","options","lastArgs","lastThis","maxWait","result1","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","undefined","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","isInvoking","$9e9b14f48ab8e2c1$var$toNumber","$9e9b14f48ab8e2c1$var$isObject","cancel","type","$9e9b14f48ab8e2c1$var$isObjectLike","call","$9e9b14f48ab8e2c1$var$isSymbol","other","valueOf","replace","isBinary","test","slice","$9e9b14f48ab8e2c1$exports","$a434c35e75c001a1$var$headerEl","$a434c35e75c001a1$var$filmSectionEl","$a434c35e75c001a1$var$lastScrollTop","window","scrollPos","scrollY","documentElement","scrollTop"],"version":3,"file":"index.589a1deb.js.map"}